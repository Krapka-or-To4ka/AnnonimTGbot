# Anonymous Telegram Bot

Бот для анонімного надсилання повідомлень у Telegram з підтримкою бази даних PostgreSQL(Необовязкова).

---

## Опис

Бот дозволяє отримувати анонімні текстові та медіа повідомлення без розкриття особистих даних.  
Використовує aiogram 3.x, asyncpg, hashids для кодування ID користувачів.

---
## УСТАНОВКА БОТА
1. Клонуйте репозиторій 
2. Встановіть залежності:  
```bash
pip install -r requirements.txt
```
3. Заповніть key.env файл по прикладу наведеному нижче
4. За потреби налаштуйте config.py в app/config
5. Запустіть:
```
python main.py
```
---

## env файл
- KEY=your_secret_salt
- TOKEN=your_bot_token
- ADMINS=admin1_id.admin2_id
- PORT=5432
- USER=postgres
- DATABASE=anonim_tg_bot
- PASSWORD=your_db_password
- HOST=localhost
**KEY** використовується для обсфукації айді.Згенерувати свою сіль можна через: os.urandom(32)
**ADMINS** Адміністраторські айді пишуться розділяючи крапкою. Приклад: 105332.33535353.535353
**PORT,USER,DATABASE,PASSWORD,HOST** можна не прописувати якщо у "app/config/config.py" IS_USING_DB:bool = FALSE
---
## Функціонал

- Генерація анонімного посилання для користувача  
- Надсилання тексту, фото, відео, файлів анонімно  
- Відповіді через інлайн-кнопки  
- Лімітування кількості запитів за хвилину (Middleware)  
- Адмінські команди:  
  - `/decode <код>` — розшифрувати ID  
  - `/info` — статистика користувачів  
  - `/send <id|all> <затримка>` — розсилка повідомлень  

---
## Використані бібліотеки

- **aiogram** — створення Telegram-бота, робота з повідомленнями і командами.

- **python-dotenv** — зчитування налаштувань з файлу `.env` (тут `key.env`).

- **hashids** — кодування ID користувачів у короткі унікальні рядки для анонімних посилань.

- **asyncpg** — асинхронна робота з PostgreSQL базою даних.

- **cachetools** — кеш з таймаутом для обмеження кількості запитів від користувачів.
---
## Структура

- `main.py` — запуск бота, ініціалізація та підключення БД  
- `app/database/` — робота з PostgreSQL через asyncpg  
- `app/handlers/` — користувацькі та адмінські обробники  
- `app/middleware/` — лімітування запитів, перевірка адмінів  
- `app/keyboard/` — інлайн-клавіатури  
- `key.env` — конфігурація (токен, БД, адміністратори,сіль)  
- `requirements.txt` — залежності
- `app/logging` - централізована система логування  
- `app/config/config.py` - неприватна конфігурація бота (ліміт запитів,рівень дебагу,чи використовується бд,юзернейм для формування рефералки)

---
## Конфігураційний файл

Файл `app/config/config.py` містить основні налаштування проєкту:

- `IS_USING_DB: bool` — визначає, чи підключатися до бази даних PostgreSQL.  
  - `True` — увімкнено, бот працює з БД.  
  - `False` — вимкнено, бот працює без БД.

- `BOT_USERNAME: str` — юзернейм бота без символу `@`, використовується для формування посилань.

- `LIMIT_HANDLERS: int` — ліміт кількості повідомлень від одного користувача за хвилину.

- `LIMIT_CALLBACK: int` — ліміт кількості callback-запитів від одного користувача за хвилину.

- `LEVEL_LOGGING: str` — рівень логування (наприклад, `'DEBUG'`, `'INFO'`).

Ці параметри дозволяють гнучко керувати роботою бота без зміни основного коду.
---



**Бот розроблен користувачем Telegram: [@Oleksandr65650](https://t.me/Oleksandr65650)**